---
layout: post
title: XSS-CTF
key: 20180517
tags: CTF
---

大佬又出CTF了，最近因为工作太忙了，都没时间做，真是尴尬，趁着昨天回家后一点时间过了一下~
<!--more-->

## 访问靶机环境  
首先，大佬给的是一个ip地址，让我们自己找端口，当然是丢去nmap了啊，当时直接运行  
>nmap -A 10.9.0.233  
发现并没有找到...好吧，然后我就这样了，  
>namp -A 10.9.0.233 -p 1-65535  
hahhah,然后就找到了，没错，是8546，话说大佬不知道为什么要用这个端口呢~~~  

## 测试页面
先来看下网页，发现有两个输入的地方（输验证码的被我排除在外了），因为是要xss，所以就看了下页面源码，然后每个都试了一下，如图：  
![1](/xingruidong95.github.io/photo/xss1.png)  
恩，没错，然后我就发现，username那栏里面，把所有符号都给过滤了（大佬看起来很严格呢>_<），只允许我们输入字符，这样就觉得这里有蹊跷了。先不管，我把这个页面
提交了，想着测试下留言那里能否成功，结果，我自己在那里刷新了很久的beef，依然没有~~~  
![2](/xingruidong95.github.io/photo/xss2.png)  
请忽略我那个自己的127.0.0.1，因为我虽然之前看了很久的beef源码，但用beef是第一次，之前测试的时候，一不小心攻击到自己了...  

## 找到提交语句位置
既然留言板不行（虽然没搞懂为什么不行，知道的dalao请联系我），那就十分肯定的是在username那里了，从页面的源码中可以看出，限制输入的语句是通过javascript
来写的  
![3](/xingruidong95.github.io/photo/xss3.png)  
因此，就想到了通过禁用我们浏览器的js来达到提交语句的目的。这里将js：enable的value改为false就好了~  
![4](/xingruidong95.github.io/photo/xss4.png)  

## 得到Flag
然后，就是喜闻乐见的提交语句环节  
![5](/xingruidong95.github.io/photo/xss5.png)  
提交之后，我们打开beef，就可以看到233这个ip被我们抓到了~ 我们在cookie中可以找到我们的flag  
![6](/xingruidong95.github.io/photo/xss6.png)  

## 总结
emmmmm，其实做这个题的时候，我想过username那里的问题，但是有点小问题，那就是我是可以把语句成功的复制到username那一栏的......，所以刚开始就并没有想到
这方面的问题，后来看了看源代码，才发现异常，估计靶机环境有点小瑕疵吧hhahhahah~  
>eg.最近上班忙的要死，根本没有时间做题啊，好烦啊，不能愉快的在论坛里提交答案得分了，哼，233跟飞猫，就便宜你们两个了~~~

